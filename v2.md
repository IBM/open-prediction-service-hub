# API v2 propositions

## Input

List of ordonned `Feature`s (like v1)

## Ouput

Is a JSON object that only has simple types attributes (or array of simple types)

code 200

```json
    "output": {  
        "prediction": 129.89523842221215,
        "foo": "foo",
        "bar": true,
        "probabilities": [ 0.9, 0.4, 0.2 ],
    }
```

code 4XX

```json
    "error": {
        "errorCode": 1234,
        "errorMessage" : "Error"
    }
```

## [GET] `/models`

lists models

```json
    "model": {
        "id": "65454654-445-454--445-4",
        "name": "model name",
        "description": "",
        "trainedAt": "2020-07-15T14:52:02Z",
        "modifiedAt": "2020-07-15T14:52:02Z",

        "inputSchema": [],
        "outputSchema": []
    }
```

## [GET] `/models/{modelId}/deployments`

list deployments of a specified model

For ads-ml-service it means that modelId would use the `name` of the pickle metadata and deployement would be the `version` of the pickle metadata.

```json
    "deployment": {
        "id": "65454654-445-454--445-4",
        "name": "dep name",
        "status" : "ready",
        "deployedAt" : "2020-07-15T14:52:02Z"
    }
```

## Optionnal

### [GET] `/models/{modelId}`

get model info

### [GET] `/models/{modelId}/deployments/{deploymentId}`

get info on a specified deployment of a specified model

### [GET] `/deployments/{deploymentId}/model`

get model from deploymentId
