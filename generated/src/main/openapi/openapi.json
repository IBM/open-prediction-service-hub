{"openapi":"3.0.2","info":{"title":"Local ml provider","description":"A simple environment to test machine learning model","version":"0.0.0-SNAPSHOT"},"paths":{"/isAlive":{"get":{"tags":["Admin"],"summary":"Heart Beat","operationId":"heart_beat_isAlive_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Heart Beat Isalive Get","type":"object"}}}}}}},"/models":{"get":{"tags":["Admin"],"summary":"Get Models","description":"Returns the list of ML models.","operationId":"get_models_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelService"}}}}}},"post":{"tags":["Admin"],"summary":"Add Model","operationId":"add_model_models_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Model"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Admin"],"summary":"Remove Model","operationId":"remove_model_models_delete","parameters":[{"required":true,"schema":{"title":"Model Name","type":"string"},"name":"model_name","in":"query"},{"required":false,"schema":{"title":"Model Version","type":"string"},"name":"model_version","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/generic":{"post":{"tags":["ML"],"summary":"Predict","operationId":"predict_generic_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericRequestBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseBody"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/direct":{"post":{"tags":["ML"],"summary":"Predict","operationId":"predict_direct_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DynamicDirectRequestBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseBody"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"DirectRequestBody":{"title":"DirectRequestBody","required":["metadata","params"],"type":"object","properties":{"metadata":{"title":"Metadata","allOf":[{"$ref":"#/components/schemas/RequestMetadata"}],"description":"Name of this feature"},"params":{"title":"Params","description":"Placeholder for dynamic generated parameter dict"}},"description":"Concrete class which captures necessary information for direct model invocation"},"Feature":{"title":"Feature","required":["name","order","type"],"type":"object","properties":{"name":{"title":"Name","type":"string","description":"Feature name"},"order":{"title":"Order","type":"integer","description":"Position of feature"},"type":{"title":"Type","type":"string","description":"Numpy type of feature"}},"description":"Ml input element"},"GenericRequestBody":{"title":"GenericRequestBody","required":["metadata","params"],"type":"object","properties":{"metadata":{"title":"Metadata","allOf":[{"$ref":"#/components/schemas/RequestMetadata"}],"description":"Name of this feature"},"params":{"title":"Params","type":"array","items":{"$ref":"#/components/schemas/Parameter"},"description":"Input parameters"}},"description":"Concrete class which captures necessary information for generic model invocation"},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"Model":{"title":"Model","required":["model","name","version","method_name","input_schema","output_schema","metadata"],"type":"object","properties":{"model":{"title":"Model","type":"string","description":"Pickled model in base64 format"},"name":{"title":"Name","type":"string","description":"Name of model"},"version":{"title":"Version","type":"string","description":"Version of model"},"method_name":{"title":"Method Name","type":"string","description":"Name of method. (e.g predict, predict_proba)"},"input_schema":{"title":"Input Schema","type":"array","items":{"$ref":"#/components/schemas/Feature"},"description":"Input schema of ml model"},"output_schema":{"title":"Output Schema","type":"object","description":"Output schema of ml model"},"metadata":{"title":"Metadata","type":"object","description":"Additional information for ml model"}},"description":"Internal representation of ML model"},"ModelService":{"title":"ModelService","required":["ml_models","storage_root"],"type":"object","properties":{"ml_models":{"title":"Ml Models","type":"array","items":{"$ref":"#/components/schemas/Model"}},"storage_root":{"title":"Storage Root","type":"string","format":"path"}}},"Parameter":{"title":"Parameter","required":["name","order","value"],"type":"object","properties":{"name":{"title":"Name","type":"string","description":"Name of the feature"},"order":{"title":"Order","type":"integer","description":"Position of the feature"},"value":{"title":"Value","anyOf":[{"type":"string"},{"type":"integer"},{"type":"number"}],"description":"Value of the feature"}},"description":"Parameter for ml model invocation"},"RequestMetadata":{"title":"RequestMetadata","description":"Necessary information for model invocation","type":"object","properties":{"model_name":{"title":"Model Name","description":"Name of model","type":"string"},"model_version":{"title":"Model Version","description":"Version of model","type":"string"}},"required":["model_name","model_version"]},"ResponseBody":{"title":"ResponseBody","required":["model_output_raw"],"type":"object","properties":{"model_output":{"title":"Model Output","description":"Structured model output. Its format is parameterized by output schema"},"model_output_raw":{"title":"Model Output Raw","type":"string","description":"String representation of output"}},"description":"Ml output configuration"},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"miniloan-rfc-RandomizedSearchCV-v0":{"title":"miniloan-rfc-RandomizedSearchCV-v0","type":"object","properties":{"creditScore":{"title":"Creditscore","type":"number"},"income":{"title":"Income","type":"number"},"loanAmount":{"title":"Loanamount","type":"number"},"monthDuration":{"title":"Monthduration","type":"number"},"rate":{"title":"Rate","type":"number"},"yearlyReimbursement":{"title":"Yearlyreimbursement","type":"number"}},"required":["creditScore","income","loanAmount","monthDuration","rate","yearlyReimbursement"]},"miniloan-linear-svc-RandomizedSearchCV-v0":{"title":"miniloan-linear-svc-RandomizedSearchCV-v0","type":"object","properties":{"creditScore":{"title":"Creditscore","type":"number"},"income":{"title":"Income","type":"number"},"loanAmount":{"title":"Loanamount","type":"number"},"monthDuration":{"title":"Monthduration","type":"number"},"rate":{"title":"Rate","type":"number"},"yearlyReimbursement":{"title":"Yearlyreimbursement","type":"number"}},"required":["creditScore","income","loanAmount","monthDuration","rate","yearlyReimbursement"]},"miniloan-lr-RandomizedSearchCV-v0":{"title":"miniloan-lr-RandomizedSearchCV-v0","type":"object","properties":{"creditScore":{"title":"Creditscore","type":"number"},"income":{"title":"Income","type":"number"},"loanAmount":{"title":"Loanamount","type":"number"},"monthDuration":{"title":"Monthduration","type":"number"},"rate":{"title":"Rate","type":"number"},"yearlyReimbursement":{"title":"Yearlyreimbursement","type":"number"}},"required":["creditScore","income","loanAmount","monthDuration","rate","yearlyReimbursement"]},"iris-svc-RandomizedSearchCV-v0":{"title":"iris-svc-RandomizedSearchCV-v0","type":"object","properties":{"sepal_length":{"title":"Sepal Length","type":"number"},"sepal_width":{"title":"Sepal Width","type":"number"},"petal_length":{"title":"Petal Length","type":"number"},"petal_width":{"title":"Petal Width","type":"number"}},"required":["sepal_length","sepal_width","petal_length","petal_width"]},"DynamicDirectRequestBody":{"title":"DynamicDirectRequestBody","description":"Concrete class which captures necessary information for direct model invocation","type":"object","properties":{"metadata":{"title":"Metadata","description":"Name of this feature","allOf":[{"$ref":"#/components/schemas/RequestMetadata"}]},"params":{"title":"Params","oneOf":[{"$ref":"#/components/schemas/miniloan-lr-RandomizedSearchCV-v0"},{"$ref":"#/components/schemas/miniloan-linear-svc-RandomizedSearchCV-v0"},{"$ref":"#/components/schemas/miniloan-rfc-RandomizedSearchCV-v0"},{"$ref":"#/components/schemas/iris-svc-RandomizedSearchCV-v0"}]}},"required":["metadata","params"]}}}}